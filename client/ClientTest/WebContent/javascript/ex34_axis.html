<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        div {
            border: 1px solid black;
            padding: 5px 15px;
            margin: 5px;
        }

        #n7 {
            border: 5px solid cornflowerblue;
        }

        .check {
            border: 5px solid tomato;
        }

        button > i {
            font-size: 5em;
            color: cornflowerblue;
        }

    </style>

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">

</head>
<body>
    <!-- ex34_axis.html -->

    <button><i class="fas fa-dog"></i></button>

    <div id="n1">
        할아버지
        <div id="n2">
            큰아버지
            <div id="n5">사촌</div>
        </div>
        <div id="n3">
            아버지
            <div id="n6">형</div>
            <div id="n7">
                나
                <div id="n10">첫째 자식</div>
                <div id="n11">
                    둘째 자식
                    <div id="n13">손자</div>
                    <div id="n14">손자</div>
                </div>
                <div id="n12">셋째 자식</div>
            </div>
            <div id="n8">동생</div>
        </div>
        <div id="n4">
            작은아버지
            <div id="n9">사촌</div>
        </div>
    </div>

    <hr>

    <input type="button" value="확인" id="btn1">

    <script>

        document.getElementById("btn1").onclick = function() {
            //DOM 검색 도구
            //1. 식별자 검색
            // - getElementById
            // - getElementsByClassName
            // - getElementsByName
            // - getElementsByTagName

            //2. 상대 검색
            // - Axis
            // - 나를 기준으로 다른 태그를 검색하는 도구

            //자식
            // - children(childNodes)
            // - firstElementChild(firstChild)
            // - lastElementChild(lastChild)

            //부모
            // - parentElement(parentNode)

            //형제
            // - previousElementSibling(previousSibling)
            // - nextElementSibling(nextSibling)
            

            //나
            var n7 = document.getElementById("n7");

            //BOM 트리 -> 몇몇 정해진 태그로 구성
            //DOM 트리 -> 모든 태그 및 속성, 텍스트, 주석 등으로 구성

            //자식 노드들 - 문자열, 공백 등 포함
            // console.log(n7.childNodes.length);
            for (var i=0; i<n7.childNodes.length; i++) {
                
                //노드(Node)
                // - DOM 트리 구조의 구성 요소
                //1. nodeType
                // - 태그(1), 속성(2), PCDATA(3), 주석(8), 문서객체(document, 9) 선언문(13)
                //2. nodeName
                // - 태그(태그명), 속성(속성명), 나머지(#XXX)
                //3. nodeValue
                // - 태그(null), 속성(속성값), PCDATA(텍스트)

                console.log("------------------------------");
                console.log(i);
                console.log(n7.childNodes[i].nodeType);
                console.log(n7.childNodes[i].nodeName);
                console.log(n7.childNodes[i].nodeValue);
                console.log("------------------------------");
            }
        };

        //onclick 덮어쓰기(위에 정의된건 실행 X)
        document.getElementById("btn1").onclick = function() {
            //나
            var n7 = document.getElementById("n7");

            //자식 배열
            // - n7.childNodes : 자식(태그, PCDATA, 주석 등..)
            // - n7.children : 자식(태그만)

            console.log(n7.children.length);

            for (var i=0; i<n7.children.length; i++) {
                console.log(n7.children[i].nodeType, n7.children[i].nodeName);
            }
        };

        /* //복사용
        document.getElementById("btn1").onclick = function() {

            var n7 = document.getElementById("n7");
            
        };
        */

        document.getElementById("btn1").onclick = function() {
            
            var n7 = document.getElementById("n7");

            //자식들(모든 구성 요소)
            // - childNodes
            // - firstChild
            // - lastChild

            //자식들(태그들만)
            // - children
            // - firstElementChild
            // - lastElementChild
            console.log(n7.firstChild.nodeType);
            console.log(n7.firstElementChild.nodeType);

            // n7.firstElementChild.className = "check";
            // n7.lastElementChild.className = "check";
            // n7.children[0].className = "check";
            // n7.children[2].className = "check";
            // n7.children[n7.children.length-1].className = "check";

            //손자
            n7.children[1].children[0].className = "check";

        };


        document.getElementById("btn1").onclick = function() {

            var n7 = document.getElementById("n7");

            //부모 노드
            // - parentNode
            // - parentElement
            // n7.parentElement.className = "check";
            // n7.parentElement.parentElement.className = "check";
            // n7.parentElement.parentElement.parentElement.className = "check"; //body
            // n7.parentElement.parentElement.parentElement.parentElement.className = "check"; //html
            n7.parentElement.parentElement.parentElement.parentElement.parentNode.className = "check"; //document

        };


        document.getElementById("btn1").onclick = function() {

            var n7 = document.getElementById("n7");

            //형제 탐색
            // n7.parentNode.children[0].className = "check";
            // n7.parentNode.children[2].className = "check";

            // n7.parentElement.parentElement.children[0].children[0].className = "check";

            // n7.previousSibling
            // n7.previousElementSibling.className = "check";
            n7.nextElementSibling.className = "check";

        };

    </script>
</body>
</html>